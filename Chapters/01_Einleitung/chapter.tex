%SASE? https://en.wikipedia.org/wiki/Secure_Access_Service_Edge
%keine KMU => kleine und mittlere Skalierungen
\chapter{Einleitung}

Viele Kunden der NetUSE AG wechseln auf Cloud-basierte Dienste, um ehemals hausinterne IT-Infrastruktur dorthin zu verlagern bzw. zu erweitern. Auf der technischen Ebene spricht dafür oftmals, dass passende Infrastruktur für einen Dienst on-premise, also im eigenen Rechenzentrum,  nicht zur Verfügung steht. \textit{Entscheider} sehen in der Cloud eine Möglichkeit der Kosteneinsparung zusammen mit einer besseren Aufschlüsselung, welche Kosten für den Betrieb eines Dienstes verursacht werden. Kosten bspw. für den Aufbau und Betrieb können sich in der konventionellen Infrastruktur über verschiedene Teams erstrecken. Das wären bspw. bei der NetUSE AG: Server-Einbau und -Installation (Team \glqq{Infrastruktur}\grqq{}), Netzwerkanbindung (Team \glqq{Netzwerk}\grqq{}), Pflege von Firewall-Regeln (Team \glqq{Security}\grqq{}).\\
In der Cloud werden diese Schritte zusammengefasst und per Knopfdruck können Maschinen und Infrastruktur deployet werden. Deployment beschreibt dabei das Ausbringen der Infrastruktur. Dies passiert in größeren Skalierungen automatisiert, z.B. Skript-gesteuert oder mit Hilfe von Automatisierungs-Frameworks wie Ansible oder Terraform, wobei Cloud-Plattformen die passenden Schnittstellen zur Steuerung anbieten\cite{edelman2018}\cite{Brikman2019}.\\
Cloud-Dienste bringen damit einen Paradigmenwechsel in die IT-Landschaft: Server, auf denen gewünschte Dienste installiert sind, sind nicht mehr vor Ort beim Kunden oder bei einem Managed Service Provider (MSP), welcher Services Kunden zur Verfügung stellt und instand hält, angesiedelt. Typische Prozesse wie die Grundinstallation eines Betriebssystems erübrigen sich. Analog dazu sind viele Software-Lösungen bereits über einen Cloud-Marketplace erhältlich, so dass diese gleich mit der Initialisierung der Cloud-Instanz starten.\\
Ebenso gibt es in der Cloud keine klassische Netzwerk-Infrastruktur: Broadcast-fähige Layer-2-Domänen, welche ursprünglich notwendig waren, um lokale Netzwerkteilnehmer (ARP [IPv4] bzw. Neighbor Discovery [IPv6]) zu finden, werden nicht mehr benötigt: Die Cloud \textit{kennt} naturgemäß alle Teilnehmer und es ist nach Belieben möglich, Konnektivität zwischen diesen zu erlauben bzw. zu verbieten.\\
Netzwerke in der Cloud sind Software-Defined (SDN)\cite{Seidel2015}. Das hat zur Folge, dass gewohnte Werkzeuge eines Netzwerk-Ingenieurs wegfallen, während gleichzeitig neue dazu gekommen sind, um Netzwerke (wieder-)herzustellen.\\
Die NetUSE AG sieht zur Zeit zwei \textit{Public Cloud}-Anbieter für ihr Geschäft im Fokus: Amazon Web Services (AWS) und Microsoft Azure. Weiterhin unterstützt die Firma Kunden beim Aufbau einer \glqq{Private Cloud}\grqq{} mit Red Hat OpenShift. Unterhält ein Unternehmen sowohl eine Public als auch eine Private Cloud, wird dies als Hybrid Cloud bezeichnet.\\
Eine Vernetzung zwischen den Plattformen ist nicht trivial, insofern man nicht mit öffentlicher IP-Adressierung jeder Maschine in der Cloud arbeiten möchte.
Die Bachelor-Arbeit zielt darauf ab, wie ein möglichst abstrahiertes, generisches Netzwerk zwischen verschiedenen Cloud-Plattformen herzustellbar ist. Dies soll automatisiert passieren, sodass eine IP-Konnektivität neuer Maschinen und \glqq{Cloud-Domänen}\grqq{} über die Anbietergrenzen hinweg in kurzer Zeit gegeben ist. Die Konfigurationen sollen möglichst über die bereits verfügbaren Schnittstellen der Anbieter stattfinden. Sobald die Netzwerkumgebung zur Verfügung steht, soll anhand typischer Use-Cases in kleinen bis mittelgroßen Skalierungen gezeigt werden, wie typische (Server-)Dienste und diese redundant abgebildet (\textit{Fail-Over Szenarien}) in einem Cloud-Netzwerk abgebildet werden können.

\chapter{Inhalt und Ziel}
\section{Ziel}

Es existieren bereits proprietäre Lösungen am Markt, um eine Vernetzung über Cloud-Anbieter hinweg zu ermöglichen. Sie fallen in die Kategorie \textit{Software-Defined Wide Area Network (SD-WAN)} und sind nicht interoperabel zu SD-WAN-Lösungen anderer Hersteller.\\
Ziel der Arbeit wird sein, ein möglichst agnostisches Netzwerk, welchen eine Ende-zu-Ende-Konnektivität ermöglicht, zwischen verschiedenen Cloud-Plattformen herzustellen. Es soll gezeigt werden, wie neue Cloud-Instanzen automatisiert in das Netzwerk des Inhabers eingebunden werden, so dass sie für alle berechtigten Teilnehmer über eine vom Internet isolierte Netzwerk-Infrastruktur erreichbar sind. Dies soll möglichst mit freier, offener Software und RFC-konformen Protokollen geschehen.\\
Interessant ist diese Lösung bspw. für Unternehmen, welche die Lizenzkosten für proprietäre Lösungen sparen wollen oder bevorzugt auf offene Systeme bzw. Standards setzen, welche eine hohe Interoperabilität zu anderen Systemen versprechen. Auch können so auf eine schnelle Art und Weise neue Cloud-Netzwerke in die konventionelle Firmen-Infrastruktur eingebunden werden.

\section{Inhalt}
%Es soll ein Katalog erstellt werden, welcher typische Anforderungen von kleinen und mittelständischen Kunden der NetUSE AG auflistet. Dieser umfasst vsl. Punkte der Skalierbarkeit, Orchestration, Performanz und Sicherheit hinsichtlich einer Cloud-Vernetzung.\\
%Da die NetUSE AG jahrelanger Partner des Netzwerk-Ausrüsters Cisco ist, soll untersucht werden, welche Lösungen in diesem Feld bereits von Cisco angeboten werden. Dabei wird der entworfene Anforderungskatalog zu Hilfe genommen.\\
%Aus diesem Erkenntnisgewinn soll ein Design für eine offene Lösung erarbeitet und in einem Proof-of-Concept manifestiert werden. Um eine Automatisierung zu erlangen, werden evtl. Programmierarbeiten erforderlich.\\
Es sollen verschiedene Use-Cases erarbeitet werden, die im Kontext einer Cloud-Vernetzung geeignet erscheinen, um verschiedene Netzwerkdienste (redundant) anzubieten. Grundlegend wird davon ausgegangen, dass ein Kunde diese Dienste sowohl bei sich vor Ort als auch bei den Cloud-Providern Amazon Web Services und Microsoft Azure in Anspruch nehmen möchte, um eine Hochverfügbarkeit bzw. einen Lastenausgleich zu erreichen.\\
Im ersten Schritt muss dafür ein geeignetes Design für die Vernetzung zwischen den verschiedenen Standorten gefunden werden. Dieses Design soll mit Hilfe geeigneter technischer Werkzeuge umgesetzt werden und dient im Anschluss als Grundlage für die Abbildung der vorher definierten Use-Cases.
Diese technisch abgebildeten Use-Cases sind im Einzelnen als Proof-of-Concept anzusehen und sollen abschließend in Bezug auf im Voraus formulierte Anforderungen und Kriterien analysiert und bewertet werden.
Es ist davon auszugehen, dass im Rahmen der Umsetzung der Autor mit diversen technischen Problemen konfrontiert sein wird. Die Analyse und Diskussion dieser Problemstellungen soll zu geeigneten Lösungsansätzen führen.

\subsection{Aspekte, die die Bachelor-Arbeit herausstellen soll}
\begin{itemize}
    \item Kein \textbf{feste} Bindung an einen Cloud-Anbieter (\glqq Vendor Lock-In\grqq{}, da das Netzwerk über mehrere Cloud-Anbieter gespannt wird.
    \item Möglichkeit der Hochverfügbarkeit und des Lastenausgleichs für Netzwerkdienste über mehrere Cloud-Plattformen hinweg
    \item Projekte oder Dienste, die eine bestimmte Cloud-Plattform erfordern, können einfach für weitere (Cloud-)Standorte verfügbar gemacht werden
    \item Latenz- oder Bandbreitenanforderungen können durch eine Hybrid-Cloud-Strategie u.U. besser eingehalten werden
    \item Neue Cloud-Netzwerke können dynamisch und automatisiert aufgebaut werden und sind im Anschluss für alle berechtigten Teilnehmer verfügbar
\end{itemize}

\subsection{Fragestellungen, auf die diese Arbeit eingehen wird}
\begin{itemize}
    \item Mit Hilfe welcher Technologien und Systemkomponenten lässt sich so eine Lösung aufbauen?
    \item Welche Schnittstellen werden bei den jeweiligen Cloud-Plattformen angeboten, um eine automatisierte Vernetzung zu bewerkstelligen?
    \item Welche Werkzeuge können mit diesen Schnittstellen genutzt werden?
    \item Welche Netzwerk-Topologien bieten sich an, um mehrere Cloud-Plattformen miteinander zu verbinden?
    \item Welche Netzwerk-Protokolle bieten sich an, um mehrere Cloud-Plattformen miteinander zu verbinden?
    \item Wie kann eine hohe Sicherheit im Netzwerkverkehr zwischen den Plattformen gewährleistet werden, um fremde Zugriffe zu verhindern?
    \item Sind Bandbreiten- und Latenzanforderungen in typischen Szenarien erfüllbar? Wie kann u.U. ein Lastenausgleich herbeigeführt werden?
\end{itemize}

\subsection{Abgrenzung der Arbeit}

\begin{itemize}
%Nicht Overlay... Abstraktion, um per IPv4 eine Ende-zu-Ende-Konnektivität herzustellen
\item Es wird herausgearbeitet, wie ein IPv4-Overlay geschaffen werden kann. Dies soll mit privaten RFC1918-Adressen geschehen und dies automatisiert evtl. unter Zuhilfenahme eines IP Adressmanagements (IPAM). Öffentliche IPv4-Netzwerke dienen dabei nicht der Erreichbarkeit von Services.
\item IPv6-Adressierung wird in dieser Arbeit nicht berücksichtigt: IPv6-Unterstützung ist auf den Cloud-Plattformen teilweise eingeschränkt und Kunden nutzen meist noch IPv4 für interne Adressierungen \cite{azureipv6_2020}.
\item Broadcast- und Multicast-Anwendungen werden in den Use-Cases nicht berücksichtigt. Auch hier gibt es nur eingeschränkte Unterstützung seitens der Cloud-Dienstleister.
%\item Hochverfügbarkeit von Internetdiensten (bspw. ein MySQL-Cluster) über mehrere Cloud-Plattformen hinweg ist nicht Teil der Bachelor-Arbeit.
\item Weitere Cloud-Anbieter wie Google oder IBM werden nicht berücksichtigt. Das Hauptaugenmerk liegt auf Amazon Web Services, Microsoft Azure und der Integration von \textit{klassischer} Netzwerk-Infrastruktur, wie man sie bei typischen kleinen und mittelständischen Unternehmen der NetUSE AG vorfindet.
\item Typische On-Premise Cloud-Lösungen wie OpenStack oder OpenShift werden auf Grund ihrer hohen Komplexität in der Bachelor-Arbeit nicht berücksichtigt. Solche Standorte sollen in der Bachelor-Arbeit durch eine Abstraktion dargestellt werden. Darauf wird in der Bachelor-Arbeit näher eingangen.
\item Vernetzungskonzepte \textit{innerhalb} eines Cloud-Netzwerkes sind nicht Teil der Bachelor-Arbeit. Sie werden aber evtl. zur Bearbeitung bestimmter Use-Cases benötigt. Ggf. werden diese Konzepte dann genauer erläutert.
\item Die zu bearbeitenden Use-Cases und Fail-Over-Szenarien werden im Verlauf der Bachelor-Arbeit aufgeschlüsselt und sind nicht Teil dieses Proposals.
% auch SLA genannt
\item Ausblick Härtung Encryption..
\item Auf Bandbreitenmessungen wird in dieser Arbeit bewusst verzichtet, da Bandbreiten von zu vielen Faktoren abhängig ist, es werden allerdings im Ausblick ggf. Optimierungen dargelegt...
\item Entgegen des initialen Proposals zielt die Arbeit nicht mehr auf kleine und mittelständische Unternehmen, sondern auf kleine bis mittelgroße \textbf{Skalierungen} ab. Es hat sich während der praktischen Bearbeitung der Use-Cases herausgestellt, dass die genutzten Technologien so robust sind, dass ein Einsatz auch im \glqq größeren \textbf{technischen} Rahmen\grqq{} machbar ist. Aus technischer Sicht stellt sich nicht die Frage, wie \glqq groß\grqq{} ein Kunde ist, sondern welche Anforderungen (Latenz, Bandbreite, Uptime, etc.) in der Praxis tatsächlich vorherrschen. Es wird daher zum Ende der Arbeit noch ein Ausblick gegeben, wie beliebig große Skalierungen mit schärferen Performance-Kriterien, neben den erarbeiteten Lösungsvorschlägen, auch bedient werden können.
\item Auf Grund der zuvor genannten Punkte ist "letzer Punkt Fragestellung" nicht im vollen Maße mit dieser Arbeit zu erfüllen und könnte eigene Arbeit werden (s. Ausblick)
\item Ende-zu-Ende-Konnektivität gegeben (wegen Amazon NAT z.B.)
%Kein Best Practice Security, DH etc...

%BFD, SLA, QoS, VNET / VPC Peering / Microsoft SDWAN / TG?

\end{itemize}

\iffalse
Serifen Schrit für Programmnamen?
Teilweise gekürzt mit [...] oder Funktionsnamen der Einfachheit umbenannt oder vereinfacht dargestellt
Todo: RFC 5737 in Einleitung (Documentation IPs)
Getestet mit Terraform Version...
Abkürzungen AWS, VPC werden einmal erläutert, danach Schicht im Schacht
Rein technischer Natur, es wird nicht auf Kostenoptimierung eingangen -> dafür ist Cloud-Costs zu komplex
Abgrenzung: alle Public-IP und Private-IP beziehen sich auf IPv3!!!
Kommandos sind mit Dollar markiert. Sie werden genutzt, wenn ein Filterausdruck erkennbar sein soll, oftmals mit grep
Typische Schalter in dieser Arbeit:
-A n: Zeige auch die nächsten n Zeilen nach einem Treffer
-B n: Zeige auch die vorherigen n Zeilen vor einem Treffer
-o Zeige ausschließlich den Treffer, nicht die komplette Zeile, oftmals im Zusammenspiel mit -E
-E Suche mit Hilfe von regulären Ausdrücken (Regex)
-v ignoriere Zeilen, die das Pattern beinhalten (invertiere)
Linux-Grundlagen werden vorausgesetzt, iptables, cat, head, tail, 
Alle Zeichnungen wurden draw.io gemacht. Auch die Shapes entstammen draw.io
Monospace für Programmaufrufe
Unterstrichen für Dateinamen
Alle Codebeispiele finden sich im Github
\fi